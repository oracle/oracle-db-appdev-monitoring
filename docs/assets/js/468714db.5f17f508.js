"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[2207],{3990:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"configuration/oci-vault","title":"OCI Vault","description":"Securely load database credentials from OCI Vault.","source":"@site/versioned_docs/version-2.0.3/configuration/oci-vault.md","sourceDirName":"configuration","slug":"/configuration/oci-vault","permalink":"/oracle-db-appdev-monitoring/docs/configuration/oci-vault","draft":false,"unlisted":false,"editUrl":"https://github.com/oracle/oracle-db-appdev-monitoring/tree/main/site/versioned_docs/version-2.0.3/configuration/oci-vault.md","tags":[],"version":"2.0.3","sidebarPosition":6,"frontMatter":{"title":"OCI Vault","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Alert Logs","permalink":"/oracle-db-appdev-monitoring/docs/configuration/alert-logs"},"next":{"title":"Azure Vault","permalink":"/oracle-db-appdev-monitoring/docs/configuration/azure-vault"}}');var o=n(4848),r=n(8453);const i={title:"OCI Vault",sidebar_position:6},s="Oracle Cloud Infrastructure (OCI) Vault",c={},l=[{value:"OCI Vault CLI Configuration",id:"oci-vault-cli-configuration",level:3}];function d(e){const t={blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"oracle-cloud-infrastructure-oci-vault",children:"Oracle Cloud Infrastructure (OCI) Vault"})}),"\n",(0,o.jsx)(t.p,{children:"Securely load database credentials from OCI Vault."}),"\n",(0,o.jsxs)(t.p,{children:["Each database in the config file may be configured to use OCI Vault. To load the database username and/or password from OCI Vault, set the ",(0,o.jsx)(t.code,{children:"vault.oci"})," property to contain the OCI Vault OCID, and secret names for the database username/password:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-yaml",children:"databases:\n  mydb:\n    vault:\n      oci:\n        id: <VAULT OCID>\n        usernameSecret: <Secret containing DB username>\n        passwordSecret: <Secret containing DB password>\n"})}),"\n",(0,o.jsx)(t.h3,{id:"oci-vault-cli-configuration",children:"OCI Vault CLI Configuration"}),"\n",(0,o.jsx)(t.p,{children:"If using the default database with CLI parameters, the exporter will read the username and password from a secret stored in OCI Vault if you set these two environment variables:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"OCI_VAULT_ID"})," should be set to the OCID of the OCI vault that you wish to use"]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"OCI_VAULT_USERNAME_SECRET"})," should be set to the name of the secret in the OCI vault which contains the database username"]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"OCI_VAULT_PASSWORD_SECRET"})," should be set to the name of the secret in the OCI vault which contains the database password"]}),"\n"]}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsxs)(t.p,{children:["Note that the process must be running under a user that has the OCI CLI installed and configured correctly to access the desired tenancy and region. The OCI Profile used is ",(0,o.jsx)(t.code,{children:"DEFAULT"}),"."]}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>s});var a=n(6540);const o={},r=a.createContext(o);function i(e){const t=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);