<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-2.0.3 docs-doc-page docs-doc-id-getting-started/kubernetes" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Kubernetes | Oracle Database Metrics Exporter</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://oracle.github.io/oracle-db-appdev-monitoring/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://oracle.github.io/oracle-db-appdev-monitoring/img/logo.png"><meta data-rh="true" property="og:url" content="https://oracle.github.io/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/kubernetes"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.0.3"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.0.3"><meta data-rh="true" name="docsearch:version" content="2.0.3"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.0.3"><meta data-rh="true" property="og:title" content="Kubernetes | Oracle Database Metrics Exporter"><meta data-rh="true" name="description" content="You can run the exporter in Kubernetes using provided manifests."><meta data-rh="true" property="og:description" content="You can run the exporter in Kubernetes using provided manifests."><link data-rh="true" rel="icon" href="/oracle-db-appdev-monitoring/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://oracle.github.io/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/kubernetes"><link data-rh="true" rel="alternate" href="https://oracle.github.io/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/kubernetes" hreflang="en"><link data-rh="true" rel="alternate" href="https://oracle.github.io/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/kubernetes" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Getting Started","item":"https://oracle.github.io/oracle-db-appdev-monitoring/docs/2.0.3/category/getting-started"},{"@type":"ListItem","position":2,"name":"Kubernetes","item":"https://oracle.github.io/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/kubernetes"}]}</script><link rel="stylesheet" href="/oracle-db-appdev-monitoring/assets/css/styles.d329a656.css">
<script src="/oracle-db-appdev-monitoring/assets/js/runtime~main.6218e987.js" defer="defer"></script>
<script src="/oracle-db-appdev-monitoring/assets/js/main.910e7da0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/oracle-db-appdev-monitoring/img/logo_home.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/oracle-db-appdev-monitoring/"><div class="navbar__logo"><img src="/oracle-db-appdev-monitoring/img/logo_home.png" alt="Oracle Database Metrics Exporter Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/oracle-db-appdev-monitoring/img/logo_home.png" alt="Oracle Database Metrics Exporter Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Oracle Database Metrics Exporter</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/oracle-db-appdev-monitoring/docs/2.0.3/intro">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/kubernetes">2.0.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/oracle-db-appdev-monitoring/docs/next/getting-started/kubernetes">Next</a></li><li><a class="dropdown__link" href="/oracle-db-appdev-monitoring/docs/getting-started/kubernetes">2.2.0</a></li><li><a class="dropdown__link" href="/oracle-db-appdev-monitoring/docs/2.1.0/getting-started/kubernetes">2.1.0</a></li><li><a class="dropdown__link" href="/oracle-db-appdev-monitoring/docs/2.0.4/getting-started/kubernetes">2.0.4</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/kubernetes">2.0.3</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/oracle/oracle-db-appdev-monitoring" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/oracle-db-appdev-monitoring/docs/2.0.3/intro">OpenTelemetry Metrics for Oracle Database</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/oracle-db-appdev-monitoring/docs/2.0.3/category/getting-started">Getting Started</a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/basics">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/default-metrics">Default Metrics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/kubernetes">Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/grafana-dashboards">Grafana Dashboards</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/oracle-db-appdev-monitoring/docs/2.0.3/category/configuration">Configuration</a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/oracle-db-appdev-monitoring/docs/2.0.3/category/advanced">Advanced</a><button aria-label="Expand sidebar category &#x27;Advanced&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/oracle-db-appdev-monitoring/docs/2.0.3/category/releases">Releases</a><button aria-label="Expand sidebar category &#x27;Releases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Oracle Database Metrics Exporter<!-- --> <b>2.0.3</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/oracle-db-appdev-monitoring/docs/getting-started/kubernetes">latest version</a></b> (<!-- -->2.2.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/oracle-db-appdev-monitoring/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/oracle-db-appdev-monitoring/docs/2.0.3/category/getting-started"><span>Getting Started</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Kubernetes</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.0.3</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Kubernetes</h1></header>
<p>You can run the exporter in Kubernetes using provided manifests.</p>
<p>To run the exporter in Kubernetes, you must complete the following steps.  All steps must be completed in the same Kunernetes namespace.  The examples below assume you want to use a namespace called <code>exporter</code>, you must change the commands if you wish to use a different namespace.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-secret-with-credentials-for-connecting-to-the-oracle-database">Create a secret with credentials for connecting to the Oracle Database<a href="#create-a-secret-with-credentials-for-connecting-to-the-oracle-database" class="hash-link" aria-label="Direct link to Create a secret with credentials for connecting to the Oracle Database" title="Direct link to Create a secret with credentials for connecting to the Oracle Database">​</a></h3>
<p>Create a secret with the Oracle database user and password that the exporter should use to connect to the database using this command.  You must specify the correct user and password for your environment.  This example uses <code>pdbadmin</code> as the user and <code>Welcome12345</code> as the password:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create secret generic db-secret \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --from-literal=username=pdbadmin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --from-literal=password=Welcome12345 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -n exporter</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-config-map-for-the-exporter-configuration-file-recommended">Create a config map for the exporter configuration file (recommended)<a href="#create-a-config-map-for-the-exporter-configuration-file-recommended" class="hash-link" aria-label="Direct link to Create a config map for the exporter configuration file (recommended)" title="Direct link to Create a config map for the exporter configuration file (recommended)">​</a></h3>
<p>Create a config map with the exporter configuration file (if you are using one) using this command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create cm metrics-exporter-config \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --from-file=metrics-exporter-config.yaml</span><br></span></code></pre></div></div>
<blockquote>
<p>NOTE: It is strongly recommended to migrate to the new config file if you are running version 2.0.0 or later.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-config-map-for-the-wallet-optional">Create a config map for the wallet (optional)<a href="#create-a-config-map-for-the-wallet-optional" class="hash-link" aria-label="Direct link to Create a config map for the wallet (optional)" title="Direct link to Create a config map for the wallet (optional)">​</a></h3>
<p>Create a config map with the wallet (if you are using one) using this command.  Run this command in the <code>wallet</code> directory you created earlier.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create cm db-metrics-tns-admin \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --from-file=cwallet.sso \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --from-file=ewallet.p12 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --from-file=ewallet.pem \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --from-file=keystore.jks \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --from-file=ojdbc.properties \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --from-file=sqlnet.ora \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --from-file=tnsnames.ora \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --from-file=truststore.jks \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -n exporter</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-config-map-for-your-metrics-definition-file-optional">Create a config map for your metrics definition file (optional)<a href="#create-a-config-map-for-your-metrics-definition-file-optional" class="hash-link" aria-label="Direct link to Create a config map for your metrics definition file (optional)" title="Direct link to Create a config map for your metrics definition file (optional)">​</a></h3>
<p>If you have defined any <a href="/oracle-db-appdev-monitoring/docs/2.0.3/configuration/custom-metrics">custom metrics</a>, you must create a config map for the metrics definition file.  For example, if you created a configuration file called <code>txeventq-metrics.toml</code>, then create the config map with this command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create cm db-metrics-txeventq-exporter-config \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --from-file=txeventq-metrics.toml \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -n exporter</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-the-oracle-database-observability-exporter">Deploy the Oracle Database Observability exporter<a href="#deploy-the-oracle-database-observability-exporter" class="hash-link" aria-label="Direct link to Deploy the Oracle Database Observability exporter" title="Direct link to Deploy the Oracle Database Observability exporter">​</a></h3>
<p>A sample Kubernetes manifest is provided <a href="https://github.com/oracle/oracle-db-appdev-monitoring/blob/main/kubernetes/metrics-exporter-deployment.yaml" target="_blank" rel="noopener noreferrer">here</a>.  You must edit this file to set the namespace you wish to use, the database connect string to use, and if you have any custom metrics, you will need to uncomment and customize some sections in this file.</p>
<p>Once you have made the necessary updates, apply the file to your cluster using this command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f metrics-exporter-deployment.yaml</span><br></span></code></pre></div></div>
<p>You can check the deployment was successful and monitor the exporter startup with this command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -n exporter -w</span><br></span></code></pre></div></div>
<p>You can view the exporter&#x27;s logs with this command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl logs -f svc/metrics-exporter -n exporter</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-kubernetes-service-for-the-exporter">Create a Kubernetes service for the exporter<a href="#create-a-kubernetes-service-for-the-exporter" class="hash-link" aria-label="Direct link to Create a Kubernetes service for the exporter" title="Direct link to Create a Kubernetes service for the exporter">​</a></h3>
<p>Create a Kubernetes service to allow access to the exporter pod(s).  A sample Kubernetes manifest is provided <a href="https://github.com/oracle/oracle-db-appdev-monitoring/blob/main/kubernetes/metrics-exporter-service.yaml" target="_blank" rel="noopener noreferrer">here</a>.  You may need to customize this file to update the namespace.</p>
<p>Once you have made any necessary udpates, apply the file to your cluster using this command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f metrics-exporter-service.yaml</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-kubernetes-service-monitor">Create a Kubernetes service monitor<a href="#create-a-kubernetes-service-monitor" class="hash-link" aria-label="Direct link to Create a Kubernetes service monitor" title="Direct link to Create a Kubernetes service monitor">​</a></h3>
<p>Create a Kubernetes service monitor to tell Prometheus (for example) to collect metrics from the exporter.  A sample Kubernetes manifest is provided <a href="https://github.com/oracle/oracle-db-appdev-monitoring/blob/main/kubernetes/metrics-service-monitor.yaml" target="_blank" rel="noopener noreferrer">here</a>.  You may need to customize this file to update the namespace.</p>
<p>Once you have made any necessary udpates, apply the file to your cluster using this command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f metrics-service-monitor.yaml</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-a-prometheus-target-optional">Configure a Prometheus target (optional)<a href="#configure-a-prometheus-target-optional" class="hash-link" aria-label="Direct link to Configure a Prometheus target (optional)" title="Direct link to Configure a Prometheus target (optional)">​</a></h3>
<p>You may need to update your Prometheus configuration to add a target.  If so, you can use this example job definition as a guide:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">job_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;oracle-exporter&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metrics_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/metrics&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">scrape_interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 15s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">scrape_timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 10s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">static_configs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">targets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> metrics</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">exporter.exporter.svc.cluster.local</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">9161</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/oracle/oracle-db-appdev-monitoring/tree/main/site/versioned_docs/version-2.0.3/getting-started/kubernetes.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/default-metrics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Default Metrics</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/oracle-db-appdev-monitoring/docs/2.0.3/getting-started/grafana-dashboards"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Grafana Dashboards</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-a-secret-with-credentials-for-connecting-to-the-oracle-database" class="table-of-contents__link toc-highlight">Create a secret with credentials for connecting to the Oracle Database</a></li><li><a href="#create-a-config-map-for-the-exporter-configuration-file-recommended" class="table-of-contents__link toc-highlight">Create a config map for the exporter configuration file (recommended)</a></li><li><a href="#create-a-config-map-for-the-wallet-optional" class="table-of-contents__link toc-highlight">Create a config map for the wallet (optional)</a></li><li><a href="#create-a-config-map-for-your-metrics-definition-file-optional" class="table-of-contents__link toc-highlight">Create a config map for your metrics definition file (optional)</a></li><li><a href="#deploy-the-oracle-database-observability-exporter" class="table-of-contents__link toc-highlight">Deploy the Oracle Database Observability exporter</a></li><li><a href="#create-a-kubernetes-service-for-the-exporter" class="table-of-contents__link toc-highlight">Create a Kubernetes service for the exporter</a></li><li><a href="#create-a-kubernetes-service-monitor" class="table-of-contents__link toc-highlight">Create a Kubernetes service monitor</a></li><li><a href="#configure-a-prometheus-target-optional" class="table-of-contents__link toc-highlight">Configure a Prometheus target (optional)</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/oracle-db-appdev-monitoring/docs/intro">Tutorial</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/oracle" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blogs.oracle.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Oracle Blogs</a></li><li class="footer__item"><a href="https://livelabs.oracle.com/pls/apex/r/dbpm/livelabs/home" target="_blank" rel="noopener noreferrer" class="footer__link-item">Oracle LiveLabs</a></li><li class="footer__item"><a href="https://github.com/oracle/oracle-db-appdev-monitoring" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025, Oracle and/or its affiliates. Built with ❤️ using Docusaurus.</div></div></div></footer></div>
</body>
</html>